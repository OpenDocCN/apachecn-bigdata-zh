# 二、面向大众的大数据挖掘

在满足特定业务需求的企业环境中实现大数据挖掘平台绝非易事。 虽然构建大数据平台相对简单，但这些工具的新颖性对习惯于传统数据挖掘方法的面向业务的用户的采用构成了挑战。 归根结底，这是衡量平台在组织内变得有多成功的标准。

本章介绍与分析工具的从业者和最终用户相关的大数据分析的一些显著特征。 这将包括以下主题：

*   什么是大数据挖掘？
*   企业中的大数据挖掘：
    *   构建用例
    *   解决方案的利益相关者
    *   实施生命周期
*   大数据挖掘的关键技术：
    *   选择硬件堆栈：
        *   单节点/多节点架构
        *   基于云的环境
    *   选择软件堆栈：
        *   Hadoop、Spark 和 NoSQL
        *   基于云的环境

# 什么是大数据挖掘？

大数据挖掘构成了两大类大数据分析中的第一类，另一类是预测分析，我们将在后面的章节中介绍。 简单地说，大数据挖掘是指处理大规模数据集的整个生命周期，从采购到实施各自的分析工具。

接下来的几章将说明在组织中实施的任何大数据项目的一些高级特征。

# 企业中的大数据挖掘

在大中型企业中实施大数据解决方案可能是一项具有挑战性的任务，因为需要考虑非常动态和多样化的一系列因素，其中最重要的是确定该解决方案将解决哪些具体业务目标。

# 构建大数据战略案例

也许大数据挖掘最重要的方面是确定平台要解决的适当用例和需求。 任何大数据平台的成功在很大程度上取决于发现业务部门中的相关问题，这些问题将为部门或组织带来可衡量的价值。 收集大量传感器或流数据的解决方案的硬件和软件堆栈将与用于分析大量内部数据的解决方案有很大不同。

以下是一些建议的步骤，根据我的经验，这些步骤在构建和实施企业大数据战略方面特别有效：

*   **谁需要大数据挖掘**：确定哪些业务组将从大数据挖掘解决方案中受益最大是这一过程的第一步。 这通常需要那些已经在处理大型数据集、对业务很重要并对收入有直接影响的团队，并且在数据访问或分析信息的时间方面优化他们的流程会对日常工作流程产生影响。
    例如，在制药组织中，这可能包括商业研究、流行病学、卫生经济学和结果。 在金融服务机构，这可能包括算法交易部门、定量研究部门，甚至后台办公室。

*   **确定用例**：上一步中确定的部门可能已经有了令人满意地满足团队需求的平台。 在多个用例和部门(或它们的集合)之间确定优先级需要个人熟悉各个业务组正在完成的工作。
    大多数组织都遵循分层结构，其中业务同事之间的交互可能主要沿着**级别线**进行。 确定有效的分析用例需要实践者和涉众之间的密切协作；也就是说，监督部门的管理层和执行实际分析的工作人员都需要密切合作。 业务利益相关者可以阐明其业务的哪些方面将从更高效的数据挖掘和分析环境中获益最多。 实践者提供了对实际操作层面存在的挑战的洞察力。 合并业务和管理两个方面以确定最佳结果的渐进式改进必然会带来更快和更好的结果。

*   **涉众入股**：涉众的入股--换句话说，决策者和那些能够做出独立预算决定的人之间的共识--应该在开始用例工作之前建立起来。 通常，应该确保多个入股以实现冗余，以便有一个主要和次要来源池，可以为将任何早期胜利扩展到更广泛的目标提供适当的支持和资金。 买入过程不一定是确定性的，这在大多数情况下可能是不可能的。 相反，就某个用例将带来的价值达成一般协议有助于建立可用于成功执行用例的基线。
*   **早期胜利和努力回报比**：一旦确定了适当的用例，找到具有最佳努力回报比的用例至关重要。 一个相对较小的用例可以在较小的预算内在短时间内实施，以优化特定的业务关键型功能，这有助于展示早期胜利，从而增加相关大数据解决方案的可信度。 我们不能精确地量化这些无形的属性，但我们可以假设：

![](img/a4c6d708-32ca-4b4a-8832-43f32e9567ab.png)

在这种情况下，*努力*是实现用例所需的时间和工作量。 这包括采购作为解决方案一部分的相关硬件和/或软件需要多长时间、实施解决方案所需的资源或等效的*工时*以及总体运营开销等方面。 与实施商业解决方案相比，开放源码工具的进入门槛可能较低，因为商业解决方案可能涉及组织长时间的采购和风险分析。 同样，一个跨部门的项目需要来自多个已经参与其他项目的资源的时间，其持续时间可能比单个部门的员工可以执行的项目更长。 如果净工作量足够低，只要不影响项目质量，还可以并行运行多个练习。

*   **利用早期制胜**：在早期制胜阶段成功实施一个或多个项目通常会为大数据分析平台开发更大的战略奠定基础，该战略远远超出单个部门的需求，并具有更广泛的组织级别影响。 因此，提前取胜是向受众确立大数据价值的第一步，但也是至关重要的一步，受众可能会怀疑大数据的可行性和相关性，也可能不会。

# 实施生命周期

如前所述，实施过程可以跨越多个步骤。 这些步骤本质上通常是迭代的，需要反复尝试。 这需要相当大的毅力和毅力，因为大多数事业都会有不同程度的成功和失败。

在实践中，大数据战略将包括多个利益相关者，而协作方法通常会产生最佳结果。 业务发起人、业务支持和 IT&分析是三大类利益相关者，它们共同创建适当的统一解决方案，在预算和 IT 能力允许的范围内满足业务需求。

# 解决方案的利益相关者

大数据解决方案的利益相关者的确切性质是主观的，并且会因用例和问题领域的不同而有所不同。 一般而言，可以将以下内容视为这一点的高级表示：

*   **业务发起人**：为项目提供支持和/或资金的个人或部门。 在大多数情况下，该实体也将是解决方案的受益者。
*   **实施组**：从实际操作的角度实施解决方案的团队。 这通常是大多数公司的 IT 或分析部门，负责平台的设计和部署。
*   **IT 采购**：大多数组织中的采购部门负责审查解决方案，以从组织的角度评估其具有竞争力的定价和可行性。 采购提供的一些服务包括遵守内部 IT 政策和评估其他方面(如许可成本)，尤其是商业产品。
*   **法律**：除非是内部开发，否则所有产品肯定都会有相关的使用条款和条件。 开源产品可以具有广泛的属性，这些属性定义了使用的允许性和限制性。 相对于 GNU**GPL**(**通用许可证**)，开放源码软件许可证(如 Apache2.0、MIT 和 BSD)通常更受允许。 对于商业解决方案，该过程更为复杂，因为它需要分析特定于供应商的协议，并且可能需要很长时间进行评估并获得批准，具体取决于许可条款和条件的性质。

# 实施解决方案

该解决方案的最终实施是实施小组、业务受益者和辅助部门之间协作的高潮。 大多数小型项目从开始到结束的时间从 3 到 6 个月不等，这在早期胜利一节中有解释。 更大的努力可能需要几个月到几年的时间才能完成，并以敏捷的产品管理框架为标志，在实施和部署期间以增量方式添加功能。

下面的截图让我们很好地理解了这一概念：

![](img/20ad7f91-d721-447f-8465-010285dd4f34.png)

High level image showing the workflow

图片和图标取自：

*   [https：//creativecommons.org/licenses/by/3.0/us/](https://creativecommons.org/licenses/by/3.0/us/)
*   由 Freepk([http://www.freepik.com](http://www.freepik.com))从 www.flaticon.com 制造的图标由 CC3.0 授权
*   由 Vectors Market([http://www.flaticon.com/authors/vectors-market](http://www.flaticon.com/authors/vectors-market))从[www.flaticon.com](http://www.flaticon.com)制造的图标由 CC3.0 授权
*   由[www.flaticon.com](http://www.flaticon.com)的 ProSymbol([http://www.flaticon.com/authors/prosymbols](http://www.flaticon.com/authors/prosymbols))制造的图标由 CC3.0 授权
*   Vecteezy 向量([https://www.vecteezy.com](https://www.vecteezy.com))

# 大数据平台的技术要素

到目前为止，我们的讨论主要集中在企业环境中大数据解决方案的设计和部署的高级特征上。 我们现在将注意力转移到这些事业的技术方面。 除了讨论主题的技术基础外，我们还会不时地在适当的地方加入高级消息。

在技术层面，主要有两个考虑因素：

*   硬件堆栈的选择
*   软件和**BI**(**商业智能**)平台的选择

近 2-3 年来，公司将其流程转移到基于云的环境中作为内部基础设施的补充解决方案已变得越来越普遍。 因此，基于云的部署变得非常普遍，因此增加了一个关于内部部署与基于云的部署的部分。 请注意，术语*现场*可以与**内部**、**现场**以及其他类似术语互换使用。

You’d often hear the term **On-premise** being used as an alternative for *On-premises.* The correct term is **On-premises**. The term **premise** is defined by the Chambers Dictionary as *premise noun 1 (also premises) something assumed to be true as a basis for stating something further.* **Premises,** on the other hand, is a term used to denote buildings (among others) and arguably makes a whole lot more sense.

# 硬件堆栈的选择

硬件的选择通常取决于选择的解决方案类型以及硬件的位置。 正确的选择取决于几个关键指标，例如数据类型(结构化、非结构化或半结构化)、数据大小(GB 与 TB 相比 PB)，以及在一定程度上数据的更新频率。 最佳选择需要对这些变量进行正式评估，并将在本书后面讨论。 从高层次上讲，我们可以推测硬件体系结构的三大模型：

*   **多节点体系结构**：这通常需要多个节点(或服务器)互连，并按照多节点或分布式计算的原则工作。 多节点体系结构的一个典型示例是 Hadoop，其中多个服务器维护双向通信以协调作业。 其他技术，比如像 Cassandra 这样的 NoSQL 数据库和像 Elasticsearch 这样的搜索和分析平台也运行在多节点计算架构的原理上。 它们中的大多数都利用*商用服务器*，按照企业标准，这是相对低端机器的另一个名称，它们协同工作以提供大规模数据挖掘和分析功能。 多节点架构适用于托管 TB 级以上的数据。
*   **单节点架构**：单节点是指在单个服务器上完成的计算。 随着多节点计算工具的出现，这种情况比较少见，但与分布式计算体系结构相比，它仍然保留着巨大的优势。 分布式计算的*谬误*概述了一组与分布式系统实现相关的断言或假设，例如网络可靠性、延迟成本、带宽和其他考虑因素。
    如果数据集是结构化的，主要包含文本数据，并且大小约为 1-5TB，则在今天的计算环境中，完全可以使用后面章节中演示的特定技术在单节点机器上托管这样的数据集。

*   **基于云的架构**：在过去的几年中，业界出现了大量基于云的解决方案。 这些解决方案提供了一个平台，使得根据手头任务的需求按需调配硬件资源变得极其容易，从而大大降低了进入大数据分析的门槛。 这大大减少了采购、管理和维护物理硬件并将其托管在内部数据中心设施中的大量开销。

亚马逊网络服务(Amazon Web Services)、微软 Azure 和谷歌计算环境(Google Compute Environment)等云平台允许企业以低至每小时 1 美分的成本配置 10 到 1000 个节点。

随着云供应商对传统实体托管设施日益占据主导地位，一些用于管理客户端云环境的补充性服务应运而生。

例如云管理公司，如 Altiscale(提供大数据即服务解决方案)和 IBM Cloud Brokerage(便于选择和管理多个基于云的解决方案)。

**The exponential decrease in the cost of hardware**: The cost of hardware has gone down exponentially over the past few years. As a case in point, per Statistic Brain’s research, the cost of hard drive storage in 2013 was approximately 4 cents per GB. Compare that with $7 per GB as recent as 2000 and over $100,000 per GB in the early 80’s. Given the high cost of licensing commercial software, which can often exceed the cost of the hardware, it makes sense to allocate enough budget toward procuring capable hardware solutions. Software needs appropriate hardware to provide optimal performance and providing level importance toward hardware selection is just as important as selecting the appropriate software.

# 软件堆栈的选择

用于数据挖掘的软件堆栈的选择因个人情况而异。 与数据挖掘相关的最受欢迎的选项与两个备选方案一起显示，虽然不是那么知名，但同样能够管理大规模数据集：

*   **Hadoop 生态系统**：可以说，随着 Hadoop 的出现，大数据这一术语开始出现在流行领域。 Hadoop 生态系统由在 Apache Software Foundation 支持下运行的多个项目组成。 Hadoop 几乎支持大数据领域众所周知的几乎所有不同类型的数据集，如结构化、非结构化和半结构化。 Hadoop 蓬勃发展的辅助工具生态系统增加了新的功能，而且市场发展迅速，各公司争相展示大数据中的下一件大事，这意味着 Hadoop 将在可预见的未来继续存在。 除了大型生态系统中存在的项目之外，Hadoop 还有四个主要组件。 这些建议如下：
    *   **Hadoop Common**：支持其他 Hadoop 模块的常用实用程序
    *   **Hadoop 分布式文件系统(HDFSHadoop™)**：提供对应用数据的高吞吐量访问的分布式文件系统
    *   **Hadoop 纱线**：作业调度和集群资源管理框架
    *   **Hadoop MapReduce**：一个基于纱线的大数据集并行处理系统
*   **Apache Spark™**：Apache Spark 是一个多节点计算框架项目，最初由加州大学伯克利分校的 AMPLab 构思，作为一个平台提供无缝接口来运行并行计算并克服 Hadoop MapReduce 框架中的限制。 特别是，Spark 在内部利用了一个称为**DAG**-**有向无环图**的概念，它表示将一组操作优化为更小的或计算效率更高的一组操作的功能。 此外，Spark 还向常用语言(如 Python(PySpark)和 Scala(本地可用接口))公开了几个**API**-**应用编程接口**。 这消除了进入 Hadoop 领域的障碍之一，在 Hadoop 领域，Java 知识至关重要。

最后，Spark 引入了一种名为**弹性分布式数据集**(**RDD**)的数据结构，它提供了一种将数据存储在内存中的机制，从而显著改善了数据检索和后续处理时间：

*   **NoSQL 和传统数据库**：选择软件堆栈的第三个考虑因素是 NoSQL 数据库。 术语 NoSQL 是最近才出现的，用来区分不遵循传统关系数据库模型的数据库。 NoSQL 数据库既有开源的也有商业的变体，甚至基于云的选择也变得越来越普遍。 NoSQL 数据库有各种广泛的分类，一些更常见的范例如下：
    *   **key-value**：这些 NoSQL 数据库按照散列的原则存储数据-唯一的键标识有关键的一组属性。 在这种说法中，关键的一个例子可能是个人的国家身份证号(例如，美国的社会保险号或 SSN，印度的 Aadhaar)。 这可能与个人相关的各个方面相关，例如姓名、地址、电话号码和其他变量。 数据库的最终用户将通过 ID 号进行查询，以直接访问有关个人的信息。 开源键值数据库(如 Redis)和商业数据库(如 Riak)非常流行。
    *   **内存中**：虽然使用内存中设施的数据库(例如在内存中存储缓存以提供相对于磁盘存储的更快访问)一直存在，但随着大数据的出现，它们被更广泛地采用。 访问内存中的数据比从磁盘访问相同的信息快几个数量级(约 100 纳秒)(1-10 毫秒或 100,000 倍)。 一些 NoSQL 数据库，如 Redis 和 KDB+，利用内存中的临时存储**存储**来提供对常用数据的更快访问。
    *   **Columnar**：这些数据库附加多列数据而不是行来创建表。 与基于行的存储相比，列式存储的主要优势在于，列式布局提供了以更快的速度访问数据的方法，同时减少了 I/O 开销，特别适合分析使用情形。 通过将数据分离到单独的列中，数据库查询可以通过扫描适当的列来检索数据，而不是逐行扫描表，并且可以非常好地利用并行处理功能。 著名的专栏数据库包括 Cassandra、Google Bigtable 等。
    *   **面向文档的**：在许多方面，面向文档的数据库存储的数据不符合任何特定的模式，比如新闻文章之类的非结构化文本，这在很多方面都被认为是对纯键值存储的改进。 这些数据库提供了将信息封装在多个键-值对中的方法，这些键-值对不必在所有其他条目的结构上保持一致。 因此，MongoDB 等文档数据库在纽约时报和福布斯等与媒体相关的组织以及其他主流公司中得到了广泛的使用。
*   **基于云的解决方案：**最后，AWS RedShift、Azure SQL Data Warehouse 和 Google BigQuery 等用于大规模数据挖掘的基于云的解决方案允许用户直接在云供应商的平台上查询数据集，而无需创建自己的架构。 虽然最终用户可以选择拥有自己的内部专家(如 RedShift 系统管理员)，但基础设施的管理、维护和日常例行任务大多由供应商执行，从而减少了客户端的运营开销。

# 简略的 / 概括的 / 简易判罪的 / 简易的

在本章中，我们概括介绍了大数据以及在企业中实施大数据解决方案的一些组件。 大数据需要选择最优的软件和硬件堆栈，这一努力不是微不足道的，尤其是因为行业中有数百种解决方案。 虽然大数据战略的主题可能被认为是一个最好留给管理层而不是技术受众的主题，但了解其中的细微差别是至关重要的。

请注意，如果没有适当的、定义良好的战略和相应的高级支持，IT 部门提供成功解决方案的能力仍将受到限制。 此外，解决方案(包括硬件-软件堆栈)应该能够得到现有 IT 资源的充分管理和支持。 大多数公司会发现，为实施大数据招聘新员工至关重要。 由于此类实施需要评估各种要素--业务需求、预算、资源和其他变量，因此根据规模和范围的不同，需要几个月到一年甚至更长的准备时间。

这些主题将在后面的章节中深入讨论，本节将作为该主题的初步介绍。